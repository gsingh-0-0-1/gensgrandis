<!-- Copyright (C) Gurmehar Singh 2021 - All Rights Reserved
/* Unauthorized distribution of this file, via any medium is strictly prohibited
/* Proprietary and confidential
/* Written by Gurmehar Singh <gurmehar@gmail.com>
/-->


<!DOCTYPE html>
<html lang="en">`
<head>
		<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-131520225-3"></script>
	<script src="/js/googletag.js"></script>

	<title>GÄ“ns Grandis</title>

	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@300&display=swap" rel="stylesheet">

	<style type="text/css">

		gui {
			position: fixed;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
		}
		body {
			background-color: #000;
		}

		.spacer{
			position: relative; 
			width: 20%; 
			left: 50%; 
			height: auto; 
			transform: translate(-50%, 0); 
			background-color: transparent; 
			color: transparent;
			font-size: 3vh;
		}

		.button {
			border: none;
			color: white;
			padding: 15px 24px;
			text-align: center;
			display: inline-block;
			margin: 4px 2px;
			cursor: pointer;
			font-family: Lato;
		}

		.button:focus{
			outline: none;
		}

		.button.addbuilding{
			font-size: 1.5vh;
			padding: 10px 10px;
		}

		.city_name_input:focus{
			outline: none;
		}

		.city_sidebar_small_cont{
			position: absolute;
			width: 80%; 
			height: 15px; 
			color: #daa; 
			font-family: Lato; 
			font-size: 1.6vh
		}

		.tutorialpanel{
			position: fixed; 
			left: 50%; 
			top: 5%; 
			transform: 
			translate(-50%, 0%); 
			width: 20%; 
			height: 15%; 
			background-color: #4a4aaa; 
			z-index: 2; 
			border: 2px solid #999; 
			font-size: 2vh; 
			color: #bbb; 
			text-align: center; 
			font-family: Lato; 
			padding: 10px 10px; 
			display: none;
			overflow: auto;
		}

		.playerbutton{
			padding: 0 0 ;
			text-align: center;
			border: none;
		}

		.playerbutton:focus{
			outline: none;
		}

		input:focus{
			outline: none;
		}

		#city_center_trading > div {position: relative; width: 100%; left: 0%; color: #bbb; font-size: 1.6vh; padding: 2px 2px; font-family: Verdana;}
		#city_center_trading > div:nth-child(odd) {background-color: #222;}
		#city_center_trading > div:nth-child(even) {background-color: #777;}

		#tile_level_table > tbody {background-color: #111;}

		#tile_level_table > tbody > tr > td{
			border: 2vh solid #bc8f8f;
			box-sizing: border-box;
		}

		#chatform { background: rgba(0, 0, 0, 0.15); padding: 0; position: fixed; top: calc(40% - 4.2vh); left: 15%; width: 13%; display: flex; height: 4.2vh; box-sizing: border-box; z-index: 3;}
		#chatinput { border: none; padding: 0 1rem; flex-grow: 1; margin: 0.25rem; width: 75%; }
		#chatinput:focus { outline: none; }
		#chatform > button { background: #333; border: none; padding: 0 1rem; margin: 0.25rem; border-radius: 3px; outline: none; color: #fff;}

		#messages { list-style-type: none; margin: 0; padding: 0; width: 50%; }
		#messages > li { padding: 0.5rem 1rem; color: #000; word-wrap: break-word;}
		#messages > li:nth-child(odd) { background: #bcbcbc; }
		#messages > li:nth-child(even) { background: #7a7a7a; }

		.button.questionmarkbox {position: absolute; 
			border-radius: 50%; 
			padding: 0px 0px; 
			display: inline-block; 
			height: 1.6vh; 
			width: 1.6vh; 
			font-size: 1.4vh; 
			background-color: #eee;
			color: #222;
		}
		.hoverinfo {display: none; 
			position: absolute; 
			top: 1.8vh; 
			font-size: 1.4vh; 
			font-family: Lato; 
			width: 6vw; 
			height: auto; 
			transform: translate(-10%, 0); 
			background-color: #111; 
			text-align: left; 
			padding: 0.1vh 0.1vw;
			z-index: 4;
			color: #eee;
		}
		.button.questionmarkbox:hover .hoverinfo {display: initial;}

		.customalert{
			position: fixed;
			padding-left: 2vw;
			padding-right: 2vw;
			padding-top: 2vh;
			padding-bottom: 8.2vh;
			text-align: center;
			left: 50%;
			top: 50%;
			transform: translate(-50%, -50%);
			width: 20%;
			height: auto;
			border: 0.5vh solid #bbb;
			background-color: #456;
			font-size: 2vh;
			font-family: Source Code Pro;
			display: none;
			z-index: 5;
		}

		.unit_desc{
			position: relative;
			font-family: Lato;
			font-size: 1.7vh;
			color: #fff;
		}
	</style>
</head>
<body>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<!--
	Template for a tile on the tile-view for cities
	-->
	<input type="button" id="tiletemplate" style="position: fixed; left: 0px; top: 0px; width: 100px; height: 100px; transform: translate(-50%, -50%); background-color: #3a3; display: initial; z-index: 0; box-sizing: border-box" onclick="javascript:selectTileFromTileView(this)">

	<gui id="gui" style="z-index: 1;">
	</gui>


	<div id="turnwaitscreen" style="position: fixed; left: 0%; top: 0%; width: 100%; height: 100%; background-color: #000; text-align: center; color: #ddd; font-family: 'Times New Roman'; z-index: 3">
		<div style="position: relative; top: 50%; font-size: 5vh">
			Waiting for your turn...
		</div>
	</div>

	<div id="gameloadingscreen" style="position: fixed; left: 0%; top: 0%; width: 100%; height: 100%; background-color: #000; text-align: center; color: #ddd; font-family: 'Times New Roman'; z-index: 3">
		<div style="position: relative; top: 50%; font-size: 5vh">
			Waiting for game to start...
		</div>
	</div>

	<div id="terrainload" style="position: fixed; left: 0%; top: 0%; width: 100%; height: 100%; background-color: #000; text-align: center; color: #ddd; font-family: 'Times New Roman'; z-index: 3">
		<div style="position: relative; top: 50%; font-size: 5vh">
			Loading terrain...
		</div>
	</div>

	<div id="unit_desc" style="position: fixed; left: 0%; top: 75%; width: 30%; height: 25%; background-color: #4a4aaa; border-top: 5px solid #d9d0d0; border-right: 5px solid #d9d0d0; box-sizing: border-box; z-index: 0; display: none">
		<div class="unit_desc" id="unit_desc_name" style="left: 6%; top: 10%;">
		</div>
		<div class="unit_desc" id="unit_desc_x" style="left: 10%; top: 18%;">
		</div>
		<div class="unit_desc" id="unit_desc_y" style="left: 10%; top: 20%;">
		</div>
		<div class="unit_desc" id="unit_desc_m" style="left: 10%; top: 22%;">
		</div>
		<div class="unit_desc" id="unit_desc_status" style="left: 10%; top: 25%;">
		</div>
	</div>


	<div id="unit_commands_info" style="position: fixed; left: 50%; top: 90%; width: 40%; height: 20%; transform: translate(-50%, -50%); background-color: #4a4aaa; border: 5px solid #d9d0d0; box-sizing: border-box; display: none; z-index: 0; font-family: Source Code Pro; font-size: 1.5vh; color: #daa;">
		<div id="general_commands" style="position: fixed; left: 3%; top: 10%;">
			Press G: Moving Mode 
			<br>
			&nbsp;&nbsp;Click on tile to move
			<br>
			ESC: Deselect Unit
		</div>

		<div id="unit_specific_commands" style="position: fixed; left: 33%; top: 10%">
		</div>

		<div id="endturn_info" style="position: fixed; left: 50%; top: 65%; transform: translate(-50%, 0)">
			Press T to End Turn
		</div>

		<div id="controls_info" style="position: fixed; left: 70%; top: 10%; transform: translate(-50%, 0)">
			Arrow keys to move
			<br>
			W to look north
			<br>
			S to look south
			<br>
			SPACE / Z to move up / down
		</div>
	</div>


	<div id="city_center_trading" style="position: fixed; left: 60%; top: 0%; width: 20%; height: 20%; box-sizing: border-box; border-left: 5px solid #d9b0b0; border-top: 5px solid #d9b0b0; border-bottom: 5px solid #d9b0b0; background-color: #444; z-index: 0; display: none; overflow: auto">
	</div>


	<div id="city_info_sidebar" style="position: fixed; left: 80%; top: 0%; width: 20%; height: 100%; background-color: #4a4aaa; border: 5px solid #d9b0b0; box-sizing: border-box; z-index: 0; display: none;">

		<div id="city_info_sidebar_name" style="position: relative; left: 5%; top: 2%; color: #ddd; font-family: Verdana; font-size: 15px; border-bottom: 2px solid white; height: 20px; width: 80%">
		</div>

		<div id="city_info_sidebar_center_loc" class="city_sidebar_small_cont" style="top: 7%; left: 7%">
			Center Location:

			<div id="city_info_sidebar_center_loc_x" style="padding-left: 20px">
			</div>

			<div id="city_info_sidebar_center_loc_y" style="padding-left: 20px">
			</div>
		</div>

		<div id="city_info_sidebar_selected_loc" class="city_sidebar_small_cont" style="top: 14%; left: 7%">
			Selected Tile:<span class="button questionmarkbox" type="button">?<span class="hoverinfo">Each tile's population grows each turn. To end your turn, press "t".</span></span>

			<div id="city_info_sidebar_selected_loc_x" style="padding-left: 20px">
			</div>

			<div id="city_info_sidebar_selected_loc_y" style="padding-left: 20px">
			</div>	

			<div id="city_info_sidebar_selected_pop" style="padding-left: 20px">
			</div>

			<div id="city_info_sidebar_selected_food" style="padding-left: 20px">
			</div>

			<div id="city_info_sidebar_selected_farm_food" style="padding-left: 20px">
			</div>

		</div>

		<div id="city_info_sidebar_expand" class="city_sidebar_small_cont" style="top: 27%; left: 7%;">
			Expand City... 

			<span class="button questionmarkbox" type="button">
				?<span class="hoverinfo">Use 50 spare population to expand your city to another tile.</span>
			</span>

			<br>

			<div id="" style="padding-left: 20px">

				&nbsp;&nbsp;
				<table>

					<tr>
						<td></td>
						<td>
							<input class="button" type="button" value="N" style="font-size: 1vh; font-family: Lato; background-color: #8c1a1a; padding: 0.4vh 0.4vh" onclick="javascript:expandCity([0, 1])">
						</td>
						<td></td>
					</tr>

					<tr>
						<td>
							<input class="button" type="button" value="W" style="font-size: 1vh; font-family: Lato; background-color: #8c8c1a; padding: 0.4vh 0.4vh" onclick="javascript:expandCity([-1, 0])">
						</td>
						<td></td>
						<td>
							<input class="button" type="button" value="E" style="font-size: 1vh; font-family: Lato; background-color: #1a1a8c; padding: 0.4vh 0.4vh" onclick="javascript:expandCity([1, 0])">	
						</td>
					</tr>
					<tr>
						<td></td>
						<td>
							<input class="button" type="button" value="S" style="font-size: 1vh; font-family: Lato; background-color: #1a8c1a; padding: 0.4vh 0.4vh" onclick="javascript:expandCity([0, -1])">
						</td>
						<td></td>
					</tr>
				</table>

			</div>

		</div>

		<div class="city_sidebar_small_cont" style="top: 45%; left: 7%">
			<input class="button" type="button" value="Tile Level Interface >>" style="font-size: 16px; font-family: Lato; background-color: #777; padding: 5px 5px" onclick="javascript:showTileLevelInterface()">
			<span class="button questionmarkbox" type="button">
				?<span class="hoverinfo">Add buildings to your tile to grow your city and make it more productive.</span>
			</span>
		</div>

		<div id="city_info_sidebar_breakoff_people" class="city_sidebar_small_cont" style="top: 50%; left: 7%">
			Break city off into people...

			<span class="button questionmarkbox" type="button">
				?<span class="hoverinfo">Use 100 spare population to create a People unit.</span>
			</span>

			<div style="padding-left: 20px">

				<input class="button" type="button" value="Break >>" style="font-size: 16px; font-family: Lato; background-color: #111; padding: 5px 5px" onclick="javascript:breakCity()">

			</div>

		</div>

		<div id="city_info_sidebar_view_city_tiles" class="city_sidebar_small_cont" style="top: 60%; left: 7%; display: none">
			View city...

			<span class="button questionmarkbox" type="button">
				?<span class="hoverinfo">See a 2-D view of your city.</span>
			</span>

			<div style="padding-left: 20px">

				<input class="button" type="button" value="View >>" style="font-size: 16px; font-family: Lato; background-color: #040; padding: 5px 5px" onclick="javascript:showCityTileView()">

			</div>

		</div>

		<div id="city_info_sidebar_redirect_food" class="city_sidebar_small_cont" style="top: 67%; left: 7%; display: none">
			Redirect food...

			<span class="button questionmarkbox" type="button">
				?<span class="hoverinfo">Select the tile you want to take food from. Then, enter the amount of food you want to move in the box below, and click the button. Then select the tile you want to move the food to.</span>
			</span>

			<div style="padding-left: 20px">

				<input class="button" type="button" value="Redirect >>" style="font-size: 16px; font-family: Lato; background-color: #400; padding: 5px 5px" onclick="javascript:redirectFood(null, null, false);">
				<br>
				<input class="button" type="text" style="font-size: 16px; font-family: Lato; background-color: #aae; padding: 5px 5px; color: #111" id="foodRedirectTextInput" placeholder="--Redirect amount--">

			</div>			

		</div>

		<div id="city_info_sidebar_produce_reg" class="city_sidebar_small_cont" style="top: 80%; left: 7%">
			Produce unit:<br>Regular<br>

			<select id="select_unit_to_produce_reg">
				<option value="">-Select a unit-</option>
				<option value="RB">Riverboat</option>
				<option value="S">Scout</option>
			</select>

			<br>

			<button onclick="javascript:changeCityProduction('reg')">>> Produce <<</button>

			<br>

			[ <span id="city_info_sidebar_progress_reg"></span> / <span id="city_info_sidebar_prod_target_reg"></span> ] 

			<br>

			<span id="city_info_sidebar_prod_unit_reg"></span>

		</div>

		<span class="button questionmarkbox" type="button" style="position: absolute; top: 78%; left: 7%">
			?<span class="hoverinfo">To produce a unit, select it from the menu and click the Produce button. Each turn, your city will get closer to finishing these production targets.</span>
		</span>

		<div id="city_info_sidebar_produce_mil" class="city_sidebar_small_cont" style="top: 80%; left: 57%">
			Produce unit:<br>Military<br>

			<select id="select_unit_to_produce_mil">
				<option value="">-Select a unit-</option>
				<option value="L">Legion</option>
			</select>

			<br>

			<button onclick="javascript:changeCityProduction('mil')">>> Produce <<</button>

			<br>

			[ <span id="city_info_sidebar_progress_mil"></span> / <span id="city_info_sidebar_prod_target_mil"></span> ]

			<br>

			<span id="city_info_sidebar_prod_unit_mil"></span>

		</div>

	</div>







	<div id="city_name_input_container" style="position: fixed; left: 75%; top: 5%; width: 20%; height: 15%; background-color: #4a4aaa; z-index: 0; color: #ddd; font-family: Verdana; font-size: 17px; display: none; border: 2px solid #aaaac5">
		<div style="position: relative; top: 10%; left: 5%;">
			Enter a name for this city:
		</div>
		<input type="text" id="city_name_input_box" class="city_name_input" style="position: absolute; background-color: rgba(255, 255, 255, 0); border: none; border-bottom: 2px solid white; top: 60%; left: 10%; color: #ddd" onkeypress="javascript:handleCityNameInput(event)" maxlength="20">

		<input type="hidden" id="city_naming_id">
	</div>

	<div id="city_tile_view_screen" style="position: fixed; left: 50%; top: 50%; width: 50%; height: 50%; transform: translate(-50%, -50%); z-index: 0; display: initial; background-color: #333; border: 10px solid #bbb; overflow: scroll">
	</div>





	<div id="tile_level_interface" style="position: fixed; left: 0%; top: 0%; width: 100%; height: 100%; z-index: 0; display: initial; background-color: #222">

		<input class="button" type="button" style="position: absolute; top: 0%; left: 0%; background-color: #bb6666; padding: 7px 10px" value="X" onclick="javascript:hideTileLevelInterface()">

		<input class="button" type="button" style="position: absolute; top: 95%; left: 93%; background-color: #bb6666; padding: 7px 10px; font-size: 1.1vh" value="Apply Changes" onclick="javascript:applyTileGridChanges()">


		<div id="tile_level_info" style="position: absolute; top: 50%; left: 70%; width: 25%; height: auto; transform: translate(0%, -50%); font-family: Lato; color: #ffefef; font-size: 1.7vh; overflow: auto">

			This is the tile-level management screen. Here, you can add buildings to your tile. When your tile reaches 100, 200, 300, 400, and 500 population, you'll unlock the 1st, 2nd, 3rd, 4th, and 5th layers out from the tile's center, respectively.<br><br>

			Each building gives a 4% boost to a certain sector of your city - see below for specifics.<br><br>


			<div style="font-size: 2vh">
				<input class="button" type="button" style="width: 5vh; height: 5vh; background-size: 100%; background-image: url('/resources/building_icons/FA.png'); vertical-align: top">
				<input class="button addbuilding" type="button" style="width: auto; height: 5vh; background-color: #b66; text-align: left; vertical-align: top;" value="+ Add Building" onclick="javascript:renderBuildingInSubtileView(FARM_TEXTURE)">
				<br>
				Farm
			</div>

			&nbsp;&nbsp;&nbsp;&nbsp;Farms apply their boost to tile food, allowing your population to grow more.<br><br>

			<span style="font-size: 2vh">
				<input class="button" type="button" style="width: 5vh; height: 5vh; padding: 7px 10px; background-size: 100%; background-image: url('/resources/building_icons/BA.png')">
				<input class="button addbuilding" type="button" style="width: auto; height: 5vh; background-color: #b66; text-align: left; vertical-align: top;" value="+ Add Building" onclick="javascript:renderBuildingInSubtileView(BARRACKS_TEXTURE)">
				<br>
				Barracks
			</span><br>

			&nbsp;&nbsp;&nbsp;&nbsp;A barracks applies its boost to hiring some of your population to produce military units.<br><br>

			<span style="font-size: 2vh">
				<input class="button" type="button" style="width: 5vh; height: 5vh; padding: 7px 10px; background-size: 100%; background-image: url('/resources/building_icons/AM.png')">
				<input class="button addbuilding" type="button" style="width: auto; height: 5vh; background-color: #b66; text-align: left; vertical-align: top;" value="+ Add Building" onclick="javascript:renderBuildingInSubtileView(ARMORY_TEXTURE)">
				<br>
				Armory
			</span><br>

			&nbsp;&nbsp;&nbsp;&nbsp;An armory splits its boost between hiring people to produce military units and to produce regular units.<br><br>

			<span style="font-size: 2vh">
				<input class="button" type="button" style="width: 5vh; height: 5vh; padding: 7px 10px; background-size: 100%; background-image: url('/resources/building_icons/FO.png')">
				<input class="button addbuilding" type="button" style="width: auto; height: 5vh; background-color: #b66; text-align: left; vertical-align: top;" value="+ Add Building" onclick="javascript:renderBuildingInSubtileView(FORGE_TEXTURE)">
				<br>
				Forge
			</span><br>

			&nbsp;&nbsp;&nbsp;&nbsp;Forges work a bit like armories, but they use more of their boost to produce regular units than military units.<br><br>

			<br><br><br>

			<input class="button" type="button" id="subtile_building_select_FO" style="width: 50px; height: 50px; background-size: 100%; background-image: url('/resources/building_icons/X.png'); margin: 0px 0px; padding: 0px 0px" onclick="javascript:removeBuildingInSubtileView()">
			<input class="button addbuilding" type="button" style="width: auto; height: 50px; background-color: #000; text-align: left; vertical-align: top; margin: 0px 0px" value="Remove Building" onclick="javascript:removeBuildingInSubtileView()">


		</div>

		<div id="tile_level_canvas" style="position: fixed; left: 35%; top: 50%; height: 100vh; width: 100vh; transform: translate(-50%, -50%)">
		</div>

	</div>


	<div id="game_options" style="position: fixed; left: 3%; top: 5%; width: 25%; height: 10%; background-color: #555; border: 2px solid #999; z-index: 3; color: #999; font-family: Lato; overflow-y: scroll">
		<div style="position: sticky; left: 0%; top: 0%; padding: 5px 5px; background-color: #333; font-size: 1.9vh">
			Game Options
		</div>
		<br>
		<input id="soundtrack_button" class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Source Code Pro; left: 5%; padding: 7px 7px" value="Soundtrack Off" onclick="javascript:handleSoundtrackButton()">

		<input id="gamesave_button" class="button" type="button" style="position: relative; background-color: #8888b4; color: #222; font-family: Source Code Pro; left: 5%; padding: 7px 7px" value="Save Game" onclick="javascript:saveGameData()">

		<input id="gameclear_button" class="button" type="button" style="position: relative; background-color: #333; color: #aaa; font-family: Source Code Pro; left: 5%; padding: 7px 7px" value="Restart Game" onclick="javascript:showCustomAlert('clearGameAlert')">
	</div>

	<div id="music_holder" style="display: none; position: fixed; left: 3%; top: 5%; width: 25%; height: 20%; background-color: #555; border: 2px solid #999; z-index: 3; color: #999; font-family: Lato; overflow-y: scroll">
		<div style="position: sticky; left: 0%; top: 0%; padding: 5px 5px; background-color: #333; font-size: 1.9vh">
			Game Soundtrack
		</div>

	</div>

	<div id="chatbox" style="position: fixed; left: 3%; top: 20%; width: 25%; height: 20%; background-color: #555; border: 2px solid #999; z-index: 3; color: #999; font-family: Lato; overflow-y: auto">
		<div style="position: relative; padding: 5px 5px; background-color: #333; font-size: 1.9vh">
			Game Chat
		</div>
		<ul id="messages"></ul>
	</div>

	<form id="chatform" action="">
		<input id="chatinput" autocomplete="off" /><button>Send</button>
	</form>


	<canvas id="minimap" style="position: fixed; left: 3%; top: 45%; width: 20vh; height: 20vh; background-color: #555; border: 2px solid #999; z-index: 3; color: #999; font-family: Lato; overflow: scroll">
	</canvas>


	<div id="tutorial_ask" class="tutorialpanel">
		Welcome to singleplayer! Would you like to start the tutorial?
		<input class="button" type="button" style="position: fixed; background-color: #88b488; color: #555; font-family: Courier; top: 65%; left: 40%; transform: translate(-50%, 0%); padding: 7px 7px" value="Yes" onclick="javascript:startTutorial()">

		<input class="button" type="button" style="position: fixed; background-color: #b48888; color: #555; font-family: Courier; top: 65%; left: 60%; transform: translate(-50%, 0%); padding: 7px 7px" value="No" onclick="javascript:hideTutorialAsk()">
	</div>


	<div id="tutorial_1" class="tutorialpanel">
		You've just spawned into the game - and you have one "People" unit. Try clicking on it - it should light up and you'll see some info in the bottom left corner of the screen.<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">

	</div>


	<div id="tutorial_2" class="tutorialpanel">
		To move your camera around, use the arrow keys. To move up and down, use SPACE and "Z". Also, you're currently looking north - to look south, use "S", and to look back north, use "W".<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">

	</div>


	<div id="tutorial_3" class="tutorialpanel">
		Great! Now, press the "G" key. You should see that the unit is now in "moving" mode. Click on any of the 8 tiles around the unit to move the unit to that tile.<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">

	</div>

	<div id="tutorial_4" class="tutorialpanel">
		When you moved the unit, you might have noticed that the "Movement" of the unit decreased by 1. You have a limited amount of movement each "turn" for each unit.<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">

	</div>

	<div id="tutorial_5" class="tutorialpanel">
		Keep exploring around until your unit's movement runs out. When that happens, press "T" to end your turn. Also, take a look at the bottom-center panel for some more info.<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">

	</div>

	<div id="tutorial_6" class="tutorialpanel">
		Now that you've got the basics of unit movement down, select your unit again if you don't already have it selected. Press "B" to build a city, and name it whatever you'd like.<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">
	</div>

	<div id="tutorial_7" class="tutorialpanel">
		Go ahead and click your city tile. You should see a sidebar pop up on the right - let's go through it together.<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">

	</div>

	<div id="tutorial_8" class="tutorialpanel">
		The first few lines should be self-explanatory - they show the location of the center of the selected city, the location of the selected tile, and the tile's population and food.<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">

	</div>

	<div id="tutorial_9" class="tutorialpanel">
		The population of any tile will grow up to just about the amount of food it has - no more. Grass tiles have a good amount of food, forest tiles have less. Tiles next to water have more food, and tiles on higher elevations have less food.<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">

	</div>

	<div id="tutorial_10" class="tutorialpanel">
		Below those details, you'll see a menu called "Expand City". If, on any tile, you have 100 or more people, 50 of those people can move to an adjacent tile, leaving 50 or more behind. Try it!<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">
	</div>

	<div id="tutorial_11" class="tutorialpanel">
		Next, you'll see a button called "Break >>". If you have 150 or more people on a tile, this button takes 100 of those people to create another "People" unit. You can use this unit to explore or create more cities.<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">

	</div>

	<div id="tutorial_12" class="tutorialpanel">
		And lastly, you'll see the "View >>" and "Redirect >>" buttons. Go ahead and click on the "View >>" button - it'll show you a 2-D view of the tiles in your currently selected city. Hit ESC to close the view.<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">
	</div>


	<div id="tutorial_13" class="tutorialpanel">
		Now, say your city has some tiles with a lot of food, but you want to expand elsewhere. You can redirect food from one tile to another. First, select the tile that you want to take food from.<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">

	</div>

	<div id="tutorial_14" class="tutorialpanel">
		Type the amount of food you want to redirect into the text box below the "Redirect >>" button. Click the "Redirect >>" button - it'll open up the 2-D view. Here, select the tile that you want to redirect the food to.<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">

	</div>

	<div id="tutorial_15" class="tutorialpanel">
		Hit ESC to close the 2-D view. You should see the sidebar update for the tile you initially selected, and if you click on the tile that you redirected food to, you should see that it has more food now.<br>

		<input class="button" type="button" style="position: relative; background-color: #88b488; color: #555; font-family: Courier; padding: 7px 7px" value="Continue" onclick="javascript:nextTutorial(this)">

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">

	</div>

	<div id="tutorial_16" class="tutorialpanel">
		That's it for now! If that was a lot of info, don't worry - you'll get the hang of it soon enough. If you have any questions, you can find the link to our discord on the home page. Thanks for playing!<br>

		<input class="button" type="button" style="position: relative; background-color: #b48888; color: #555; font-family: Courier; padding: 7px 7px" value="Exit" onclick="javascript:endTutorial(this)">
	</div>

	<div class="customalert" id="game_init_click_reminder">
		Click on the people to start playing!

		<input class="button" type="button" style="position: absolute; left: 50%; top: 60%; transform: translate(-50%, 0); background-color: #88b488; color: #555; font-family: Courier; padding: 0.6vh 0.6vw; font-size: 1.2vh" value="OK" onclick="javascript:closeCustomAlert(this.parentNode)">
	</div>

	<div class="customalert" id="not_enough_pop_alert">
		Not enough population to expand!

		<input class="button" type="button" style="position: absolute; left: 50%; top: 60%; transform: translate(-50%, 0); background-color: #88b488; color: #555; font-family: Courier; padding: 0.6vh 0.6vw; font-size: 1.2vh" value="OK" onclick="javascript:closeCustomAlert(this.parentNode)">
	</div>

	<div class="customalert" id="gamesaved">
		Game saved!

		<input class="button" type="button" style="position: absolute; left: 50%; top: 60%; transform: translate(-50%, 0); background-color: #88b488; color: #555; font-family: Courier; padding: 0.6vh 0.6vw; font-size: 1.2vh" value="OK" onclick="javascript:closeCustomAlert(this.parentNode)">
	</div>

	<div class="customalert" id="multinogamesave">
		Games can not be saved in multiplayer (yet).

		<input class="button" type="button" style="position: absolute; left: 50%; top: 60%; transform: translate(-50%, 0); background-color: #88b488; color: #555; font-family: Courier; padding: 0.6vh 0.6vw; font-size: 1.2vh" value="OK" onclick="javascript:closeCustomAlert(this.parentNode)">
	</div>


	<div class="customalert" id="unit_done_alert">
		Your <span id="unit_done_alert_utype"></span> has finished producing!

		<input class="button" type="button" style="position: absolute; left: 50%; top: 60%; transform: translate(-50%, 0); background-color: #88b488; color: #555; font-family: Courier; padding: 0.6vh 0.6vw; font-size: 1.2vh" value="OK" onclick="javascript:closeCustomAlert(this.parentNode)">
	</div>

	<div class="customalert" id="you_win_combat">
		You have won the battle!

		<input class="button" type="button" style="position: absolute; left: 50%; top: 60%; transform: translate(-50%, 0); background-color: #88b488; color: #555; font-family: Courier; padding: 0.6vh 0.6vw; font-size: 1.2vh" value="OK" onclick="javascript:closeCustomAlert(this.parentNode)">
	</div>

	<div class="customalert" id="you_lose_combat">
		You have lost the battle!

		<input class="button" type="button" style="position: absolute; left: 50%; top: 60%; transform: translate(-50%, 0); background-color: #88b488; color: #555; font-family: Courier; padding: 0.6vh 0.6vw; font-size: 1.2vh" value="OK" onclick="javascript:closeCustomAlert(this.parentNode)">
	</div>

	<div class="customalert" id="combat_alert" style="width: 30%; text-align: left">
		<span id="combat_u1" style="position: relative; margin-top: 5%; width: 40%; text-align: left; float: left">
			<span id="combat_u1_u" style="text-decoration: underline"></span>
			<br>
			<span id="combat_u1_stats" style="font-size: 0.7em"></span>
			<br>
			<span id="combat_u1_odds" style="font-size: 0.7em"></span>
		</span>
		<span id="combat_u2" style="position: relative; margin-top: 5%; width: 40%; text-align: left; float: right">
			<span id="combat_u2_u" style="text-decoration: underline"></span>
			<br>
			<span id="combat_u2_stats" style="font-size: 0.7em"></span>
			<br>
			<span id="combat_u2_odds" style="font-size: 0.7em"></span>
		</span>

		<span class="spacer" style="font-size: 2em">
			Filler
		</span>

		<input class="button" type="button" style="position: absolute; left: 35%; top: 72%; transform: translate(-50%, 0); background-color: #88b488; color: #555; font-family: Courier; padding: 0.6vh 0.6vw; font-size: 1.2vh" value="Proceed" onclick="javascript:commenceCombat(); closeCustomAlert(this.parentNode)">

		<input class="button" type="button" style="position: absolute; left: 65%; top: 72%; transform: translate(-50%, 0); background-color: #b48888; color: #555; font-family: Courier; padding: 0.6vh 0.6vw; font-size: 1.2vh" value="Cancel" onclick="javascript:closeCustomAlert(this.parentNode)">

		<span id="combat_u1_details" style="display: none"></span>
		<span id="combat_u2_details" style="display: none"></span>
	</div>

	<div class="customalert" id="clearGameAlert">
		Are you really sure you want to restart your game? All your progress will be lost.

		<input class="button" type="button" style="position: absolute; left: 25%; top: 60%; transform: translate(-50%, 0); background-color: #b48888; color: #555; font-family: Courier; padding: 0.6vh 0.6vw; font-size: 1.2vh" value="Yes, restart" onclick="javascript:clearGameAndReload()">

		<input class="button" type="button" style="position: absolute; left: 75%; top: 60%; transform: translate(-50%, 0); background-color: #88b488; color: #555; font-family: Courier; padding: 0.6vh 0.6vw; font-size: 1.2vh" value="No, go back." onclick="javascript:closeCustomAlert(this.parentNode)">
	</div>

</body>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r124/three.js"></script>
<script type="text/javascript" src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/ef-infinite-canvas@0.5.0-alpha/dist/infinite-canvas.js"></script>

<script src="https://threejs.org/examples/js/loaders/GLTFLoader.js"></script>
<script src="https://threejs.org/examples/js/utils/SkeletonUtils.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.3.2/math.js"></script>

<script src="/js/textures.js"></script>
<script src="/js/colors.js"></script>
<script src="/js/utils.js"></script>
<script src="/js/tutorial.js"></script>
<script src="/js/audioutils.js"></script>
<script src="/js/unitdraws.js"></script>
<script src="/js/unitutils.js"></script>
<script src="/js/initialization.js"></script>
<script src="/js/mousehandler.js"></script>
<script src="/js/tilelevelutils.js"></script>
<script src="/js/borderutils.js"></script>
<script src="/js/saveutils.js"></script>
<script src="/js/barbarian.js"></script>
<script src="/js/combat.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.3/socket.io.js"></script>

<script src="/js/defs_and_inits.js"></script>
<script src="/js/maincode.js"></script>
</html>
